{
    "definitions": {

        "types": {
            "machine": {
                "type": "node",
                "interfaces": {
                    "provisioner": {
                        "provider": "default_provisioner_provider",
                        "operations": [ "create", "start", "stop", "terminate" ]
                    }
                }
            },

            "database_server": {
                "type": "node",
                "properties": {
                    "port": "3306"
                },
                "interfaces": {
                    "configurer": {
                        "operations": [ "install", "start", "stop", "uninstall" ]
                    }
                },

                "database": {
                    "type": "node",
                    "properties": {
                        "name": "",
                        "schema_file": ""
                    },
                    "interfaces": {
                        "configurer": {
                            "operations": [ "create", "delete" ]
                        }
                    }
                }

            },

            "providers": {
                "default_provisioner_provider": {
                    "plugin": {
                        "name": "cosmo_provisioner_plugin",
                        "url": "..."
                    },
                    "target": "..."
                },
                "default_chef_provider": {
                    "plugin": {
                        "name": "cosmo_chef_plugin",
                        "url": "..."
                    },
                    "target": "${node.id}"
                },

                "relationships": {
                    "hosted_on": { },
                    "deployed_on": { }
                }
            },

            "service_template": {

                "mysql_machine": {
                    "type": "machine",
                    "properties": {
                        "image": "aws149180"
                    }
                },

                "mysql_database_server": {
                    "type": "database_server",
                    "properties": {
                        "port": "3306",
                        "chef_recipe": "mysql_chef_recipe"
                    },
                    "interfaces": {
                        "configurer": {
                            "provider": "default_chef_provider"
                        }
                    },
                    "relationships": {
                        "mysql_machine": "hosted_on"
                    }
                },

                "mysql_schema": {
                    "type": "database",
                    "properties": {
                        "name": "petclinic"
                    },
                    "relationships": {
                        "mysql_database_server": "deployed_on"
                    }
                }

            }

        }
    }
}