definitions:

    imports:
        - "cloudify.types"

    artifacts:
        cloudmock:
            derived_from: "cloudify.tosca.artifacts.remote_plugin"
            properties:
                interface: "cloudify.tosca.interfaces.host_provisioner"
                url: "cloudmock.zip"

    service_templates:
        simple_web_server:
            topology:
                webserver_host:
                    type: "cloudify.tosca.types.host"
                    policies:
                        start_detection_policy:
                            rules:
                                host_state:
                                    type: "state_equals"
                                    properties:
                                        service: "machine-status"
                                        state: "running"
