definitions:

    imports:
        - "cloudify.types"
        - "cloudmock.yaml"

    service_templates:
        simple_web_server:
            topology:
                tier:
                    type: "cloudify.tosca.types.tier"
                    properties:
                        nodes: [ "host" ]
                        number_of_instances: 2

                host:
                    type: "cloudify.tosca.types.host"
                    policies:
                        start_detection_policy:
                            rules:
                                host_state:
                                    type: "state_equals"
                                    properties:
                                        service: "machine-status"
                                        state: "running"

